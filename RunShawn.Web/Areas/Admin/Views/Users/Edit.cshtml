
@{
    ViewBag.Title = "Ed";
}

@using RunShawn.Web.Areas.Admin.Models.Users
@model UserViewModel

@using (var group = Html.Bootstrap().ButtonGroup().Begin())
{
    @group.LinkButton("Powrót", MVC.Admin.Users.List()).SetIcon(Icon.ArrowLeft).SetState(ButtonState.Info)
}

@using (Html.Bootstrap().Heading2().Begin())
{
    <text>Edytuj Użytkownika</text>
}

@using (var form = Html.Bootstrap().Form(MVC.Admin.Users.Edit()).Begin())
{
    @Html.AntiForgeryToken()
    <h4>Dane</h4>
    @form.HiddenFor(x => x.Id)
    @form.InputFor(x => x.FirstName).SetControlLabel("Imię")
    @form.InputFor(x => x.LastName).SetControlLabel("Nazwisko")
    @form.InputFor(x => x.UserName).SetControlLabel("Login")
    @form.InputFor(x => x.Email).SetControlLabel("Email")
    @form.InputFor(x => x.PhoneNumber).SetControlLabel("Numer Telefonu")
    @Html.CheckBoxFor(x => x.LockoutEnabled)
    <div class="form-group">
        @Html.LabelFor(x => x.LockoutEndDateUtc)
        @Html.DatePickerFor(x => x.LockoutEndDateUtc)
    </div>
    <hr />
    <h4>Role</h4>
    <div class="form-group">
    @Html.DropDownListFor(x => x.RoleId, new SelectList(Model.Roles, "Value", "Text", Model.Roles != null ? Model.RoleId : null), "Nie przypisana")
    </div>
    @form.Submit().SetState(ButtonState.Primary).SetSize(ButtonSize.Lg).SetText("Zapisz");
}
<script>
    $(document).ready(function () {
        var flag = $("#LockoutEnabled")
        var datepicker = $('#LockoutEndDateUtc');

        if (flag[0].checked) {
            datepicker.parent().show();
            datepicker.removeAttr("disabled");
        }
        else {
            datepicker.parent().hide();
            datepicker.attr("disabled", "true");
        }
        flag.change(function () {
            if (flag[0].checked) {
                datepicker.parent().show();
                datepicker.removeAttr("disabled");
            }
            else {
                datepicker.parent().hide();
                datepicker.attr("disabled", "true");
            }
        });
    });
</script>